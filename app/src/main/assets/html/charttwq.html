<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> -->
<script src="jquery.js">
</script>
<script src="highcharts.js"></script>
</head>

<body>
<div id="container" style="min-width: 600px; height: 400px; margin: 0 auto"></div>
<script>


$(document).ready(function(){
    // var fcb_val = '12000,4000,3000,12000,5600,7600,8000,160000,4000,5000';
    // var do_val ='2,4,6.7,9.8,5,11.2,6,5.6,12,4';
    // var wqi_val = '38.00,53.00,64.00,0.17,42,53.00,34.50,56.32,78.45,9';
    // meraFunc(fcb_val+'|2552/1,2552/2,2553/1,2553/2,2554/1,2554/2,255/1,2555/2,2556/1,2556/2|EC');
});
function meraFunc(abc) {
    var email_array = abc.split('|');
    // console.log(email_array[0]);
    var val1 = email_array[0].split(',');
    var val2 = email_array[1].split(',');
    var drawdata = new Array();

for(var i=0; i < val1.length; i++){
	// console.log(val1[i]);    
   // set marker
   if (email_array[2] == 'WQI' || email_array[2] == 'MWQI') {
        var marker = {
                        radius: 10,
                        lineColor: '#ffffff',
                        lineWidth: 4,
                        symbol:   'circle'
                    };
        var lineColor = '#ffffff';
   }else{
        var marker = {};
        var lineColor = '';
   }
		// if(email_array[3] == 'sea'){
            if(email_array[2] == 'WQI'){
    			 if(parseFloat(val1[i]) == 0){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
    				json.marker = {fillColor: '#FF0000'};
                    drawdata[i] = json;  
    			 }else if(parseFloat(val1[i]) < 30){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
                    json.marker = {fillColor: '#FF0000'};
                    drawdata[i] = json;
                }else if(parseFloat(val1[i]) > 30 && parseFloat(val1[i]) <= 50){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
    				json.marker = {fillColor: '#E16C09'};
                    drawdata[i] = json;
                }else if(parseFloat(val1[i]) > 50 && parseFloat(val1[i]) <= 60){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#F8D43C'};
                    drawdata[i] = json;
                }else if(parseFloat(val1[i]) > 60 && parseFloat(val1[i]) <= 65){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#F6DD36'};
                    drawdata[i] = json;
                }else if(parseFloat(val1[i]) > 65 && parseFloat(val1[i]) <= 70){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#8BC53E'};
                    drawdata[i] = json;
                } else if(parseFloat(val1[i]) > 70 && parseFloat(val1[i]) <= 90){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#29ABE1'};
                    drawdata[i] = json;
                } else if(parseFloat(val1[i]) > 90 && parseFloat(val1[i]) <= 100){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#016FC1'};
                    drawdata[i] = json;
                }
            // console.log(json);
            } else if(email_array[2] == 'MWQI'){
                if(parseFloat(val1[i]) == 0){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
                    json.marker = {fillColor: '#FF0000'};
                    drawdata[i] = json;  
                 } else if(parseFloat(val1[i]) < 25){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
                    json.marker = {fillColor: '#FF0000'};
                    drawdata[i] = json;
                }else if(parseFloat(val1[i]) > 25 && parseFloat(val1[i]) <= 50){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    
                    json.marker = {fillColor: '#E16C09'};
                    drawdata[i] = json;
                } else if(parseFloat(val1[i]) > 50 && parseFloat(val1[i]) <= 80){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#F6DD36'};
                    drawdata[i] = json;
                }  else if(parseFloat(val1[i]) > 80 && parseFloat(val1[i]) <= 90){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#29ABE1'};
                    drawdata[i] = json;
                } else if(parseFloat(val1[i]) > 90 && parseFloat(val1[i]) <= 100){
                    var json = {};
                    json.y = parseFloat(val1[i]);
                    json.marker = {fillColor: '#016FC1'};
                    drawdata[i] = json;
                }
            }else if(email_array[2] == 'TCB' || email_array[2] == 'FCB'){
                var json = {};
                    json.y = parseInt(val1[i]);
                    drawdata[i] = json;
            } else  {
        	        var json = {};
                    json.y = parseFloat(val1[i]);
                    drawdata[i] = json;
            }
		
        //}
}
    //console.log(drawdata);
    for(var i=0; i < val2.length; i++){
        val2[i] = val2[i];
    }
    // console.log(val2);
    if(email_array[2] == 'WQI' || email_array[2] == 'MWQI'){
        var trick = [0, 20, 40, 60, 80, 100,120];

    } else if(email_array[2] == 'DO'){
        var trick = [0, 5, 10, 15.3];

    } else if(email_array[2] == 'Temperature'){
        var trick = [0, 10, 20, 30, 40,50];

    } else if(email_array[2] == 'BOD'){
        var trick = [0, 2, 4, 6, 8,10];
    } else {
        var trick = '';

    }

        $('#container').highcharts({
                chart: {
                backgroundColor: '#2d2d2f',
                type: 'line'
            },
            title: {
                text: '',
                x: -20, //center
                
            },
            credits: {
                enabled: false
            },             
            xAxis: {
                categories: val2,
                labels:{
                    style:{
                        color:'#ffffff'
                    },
                    // rotation:-35,
                   y:25
                }
            },
            yAxis: {
                tickPositions: trick,
                title: {
                    text: email_array[2],
                    style:{
                        color:'#ffffff'
                    }
                },
                labels:{
                    style:{
                        color:'#ffffff'
                    },

                }
               
            },
            legend: {
                layout: 'vertical',
                align: 'right',
				enabled: false,
                verticalAlign: 'middle',
                borderWidth: 0
            },
             plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true,
						y:-18,
                        style: {
                            // textShadow: '0 0 3px white, 0 0 3px white',
							fontWeight: 'Bold',
							fontSize: '20',
                            color: '#F0F0F0'
                        }
                    },
                    enableMouseTracking: false,
                    marker: marker
                },
                    series: {
                        lineWidth: 4,
                        lineColor: lineColor,
                        shadow: true
                    }
            },
            series: [{
                name: email_array[2],
                data: drawdata
            }]
        });
}  

</script>
</body>
</html>
